@page "/settings"
@using BudgetAnalyzer.Shared.Data
@namespace BudgetAnalyzer.Shared.Pages
@inherits SubscribedComponent

<MudContainer>
    <MudStack Row="true" AlignItems="AlignItems.Stretch" Justify="Justify.FlexStart" StretchItems="StretchItems.All">
        <MudPaper Elevation="2" MaxWidth="33%">  
            <MudList T="Guid" @bind-SelectedValue=SelectedId>
                @foreach(Budget budget in State.AvailableBudgets)
                {
                    <MudListItem Value="budget.Id">@budget.Name</MudListItem>
                }
            </MudList>
        </MudPaper>

        <MudPaper Elevation="2" Class="pa-4"> 
            @if(State.AvailableBudgets.SingleOrDefault(b => b.Id == SelectedId) is Budget selectedBudget)
            {
                <BudgetEditor BudgetToEdit="selectedBudget" />
            }
        </MudPaper>
    </MudStack>
</MudContainer>

@code {
    private Guid SelectedId { get; set; }

}
